# Shared (all services)
# NOTE: docker-compose 会自动读取根目录的 .env，并把变量注入容器。
DATABASE_URL="file:/data/dev.db"
JWT_SECRET="dev-secret-change-me"

# API
API_PORT="3001"

# Web (Next rewrite target, used by next.config.ts)
API_URL="http://api:3001"
WEB_PORT="3000"

# Worker (安全默认：使用模拟 executor + mock market-data；显式 opt-in 才能 real)
WORKER_ENABLED="true"
WORKER_INTERVAL_MS="10000"
WORKER_MAX_BOTS="100"
WORKER_CACHE_MAX="100"
WORKER_ENABLE_TRADING="true"
WORKER_ENABLE_STOPPING="true"
WORKER_USE_REAL_EXCHANGE="false"
EXCHANGE_PROVIDER="mock"

# Retry / backoff (V1)
WORKER_ORDER_MAX_RETRIES="5"
WORKER_ORDER_BACKOFF_BASE_MS="1000"
WORKER_ORDER_BACKOFF_MAX_MS="30000"
WORKER_STOP_MAX_RETRIES="5"
WORKER_STOP_BACKOFF_BASE_MS="1000"
WORKER_STOP_BACKOFF_MAX_MS="30000"

# Real trading safety rails (MUST stay false unless you know what you are doing)
ALLOW_MAINNET_TRADING="false"

# Credentials encryption (required for mainnet accounts; optional for testnet)
# CREDENTIALS_ENCRYPTION_KEY="<32-byte base64 key>"
